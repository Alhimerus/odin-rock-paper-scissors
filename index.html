<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>

<body>
  <script>
    function computerPlay() {
      let computerSelection;
      let randomNumber = Math.random();
      if (randomNumber <= 1 / 3) {
        computerSelection = "Scissors";
      } else if (randomNumber <= 2 / 3) {
        computerSelection = "Rock";
      } else {
        computerSelection = "Paper";
      }
      return computerSelection;
    }

    function standardizeSelection(selection) {
      selectionFirstLetter = (selection.slice(0, 1)).toUpperCase();
      selectionRest = (selection.slice(1)).toLowerCase();
      return selectionFirstLetter + selectionRest;
    }

    function roundRedo() {
      playerSelection = prompt("What will you play?");
      computerSelection = computerPlay();
      return playRound(playerSelection, computerSelection);
    }


    function playRound(playerSelection, computerSelection) {
      playerSelection = standardizeSelection(playerSelection);
      if (playerSelection === computerSelection) {
        alert("It's a tie! Have a rematch.")
        return roundRedo();
      } else if (playerSelection !== "Paper" && playerSelection !== "Scissors" && playerSelection !== "Rock") {
        alert("Wrong input! You have to choose rock, paper or scissors!")
        return roundRedo();
      } else if ((playerSelection === "Paper" && computerSelection === "Rock") || (playerSelection === "Rock" && computerSelection === "Scissors") || (playerSelection === "Scissors" && computerSelection === "Paper")) {
        return `You Win! ${playerSelection} beats ${computerSelection}`;
      } else {
        return `You Lose! ${computerSelection} beats ${playerSelection}`;
      }
    }

    let playerSelection = prompt("What will you play?");
    let computerSelection = computerPlay();
    console.log(playRound(playerSelection, computerSelection));

  </script>
</body>

</html>