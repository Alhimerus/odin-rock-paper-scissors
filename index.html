<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>

<body>

  <div class="buttons">
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
  </div>

  <script>

    function computerPlay() {
      let computerSelection;
      let randomNumber = Math.random();
      if (randomNumber <= 1 / 3) {
        computerSelection = "Scissors";
      } else if (randomNumber <= 2 / 3) {
        computerSelection = "Rock";
      } else {
        computerSelection = "Paper";
      }
      return computerSelection;
    }

    function standardizeSelection(selection) {
      selectionFirstLetter = (selection.slice(0, 1)).toUpperCase();
      selectionRest = (selection.slice(1)).toLowerCase();
      return selectionFirstLetter + selectionRest;
    }

    function roundRedo() {
      playerSelection = standardizeSelection(prompt("What will you play?"));
      computerSelection = computerPlay();
      return playRound(playerSelection, computerSelection);
    }

    function playRound(playerSelection, computerSelection = computerPlay()) {
      if (playerSelection === computerSelection) {
        alert("It's a tie! Have a rematch.")
        return roundRedo();
      } else if (playerSelection !== "Paper" && playerSelection !== "Scissors" && playerSelection !== "Rock") {
        alert("Wrong input! You have to choose rock, paper or scissors!")
        return roundRedo();
      } else if ((playerSelection === "Paper" && computerSelection === "Rock") || (playerSelection === "Rock" && computerSelection === "Scissors") || (playerSelection === "Scissors" && computerSelection === "Paper")) {
        console.log(`You win this round! ${playerSelection} beats ${computerSelection}`)
        return true;
      } else {
        console.log(`You lose this round! ${computerSelection} beats ${playerSelection}`)
        return false;
      }
    }

    const buttonRock = document.querySelector(".rock");
    buttonRock.addEventListener("click", () => { playRound("Rock") });
    const buttonPaper = document.querySelector(".paper");
    buttonPaper.addEventListener("click", () => { playRound("Paper") });
    const buttonScissors = document.querySelector(".scissors");
    buttonScissors.addEventListener("click", () => { playRound("Scissors") });

  </script>
</body>

</html>